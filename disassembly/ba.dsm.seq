*=$C000;********************************; EXTERNAL ADDRESS EQUATES;********************************SECOND=$FF93TKSA=$FF96ACPTR=$FFA5CIOUT=$FFA8UNTLK=$FFABUNLSN=$FFAELISTEN=$FFB1TALK=$FFB4READST=$FFB7SETLFS=$FFBAOPEN=$FFC0CLOSE=$FFC3CHKIN=$FFC6CHKOUT=$FFC9CLRCHN=$FFCCCHRIN=$FFCFCHROUT=$FFD2LOAD=$FFD5STOP=$FFE1CLALL=$FFE7;********************************       LDA #$00       STA $0388       STA $0389       LDA XXCEF3       LDX XXCEF4       CPX #$A0       BCS XXC019       STA $37       STX $38       JSR $A659XXC019 LDX #$0FXXC01B LDA XXC02B,X       STA $73,X       DEX        BPL XXC01B       LDX #$13       JSR XXC03B       JMP XXC159;********************************XXC02B INC $7A       BNE XXC031       INC $7BXXC031 LDA $01FF       JMP XXC09A;********************************       NOP        JMP XXC0BF;********************************XXC03B LDA XXCE2F,X       BEQ XXC046       JSR CHROUT       INX        BNE XXC03BXXC046 RTS ;********************************       BNE XXC057       SEI        LDX #$17XXC04C LDA $E3A2,X       STA $73,X       DEX        BPL XXC04C       JMP XXC7BA;********************************XXC057 JMP XXCDD9;********************************XXC05A LDA $028D       AND #$01       BNE XXC05A       JSR XXC07D       BNE XXC07AXXC066 JSR XXC07D       BEQ XXC066       CMP #$FF       BEQ XXC066XXC06F JSR XXC07D       CMP #$FF       BNE XXC06F       LDA #$00       STA $C6XXC07A JMP STOP;********************************XXC07D LDA $DC01       CMP $DC01       BNE XXC07D       CMP #$EFXXC087 RTS ;********************************XXC088 STA $62       LDX #$90       SEC        JSR $BC49       JMP $BDDD;********************************XXC093 INC $87       BNE XXC099       INC $88XXC099 RTS ;********************************XXC09A STA $83       STX $97       TSX        LDA $0101,X       CMP #$8C       BEQ XXC0C9       LDX $7B       CPX #$02       BEQ XXC0B7       STX $8A       LDX $7A       STX $89       JMP XXC0B7;********************************XXC0B5 LDY $85XXC0B7 LDX $97       LDA $83       CMP #$3A      ;':'       BCS XXC087XXC0BF CMP #$20      ;' '       BEQ XXC0C6       JMP $E3B3;********************************XXC0C6 JMP $0073;********************************XXC0C9 LDA $0102,X       CMP #$A4       BNE XXC0B7       JSR XXC0B7       BCC XXC122       LDA $83       BPL XXC0DB       INC $7AXXC0DB LDX #$00       STX $7F       STY $85XXC0E1 LDY $7AXXC0E3 LDA $0200,Y       SEC        SBC XXCE56,X       BEQ XXC0FF       CMP #$80       BEQ XXC103       INC $7FXXC0F2 INX        LDA XXCE55,X       BPL XXC0F2       LDA XXCE56,X       BNE XXC0E1       BEQ XXC0B5XXC0FF INX        INY        BNE XXC0E3XXC103 STY $7A       PLA        PLA        LDA $7F       ASL A       TAX        LDA XXCEC0,X       PHA        LDA XXCEBF,X       PHA        JSR XXC0B5       JMP $0073;********************************       JSR XXC3CF       STA $0388       JMP XXC202;********************************XXC122 PLA        PLA        LDA $83       JSR $A96B       BEQ XXC154       LDA $0388       BEQ XXC154       CLC        LDA $14       ADC $0388       STA $63       LDA $15       ADC #$00       JSR XXC088       LDX #$00XXC141 LDA $0101,X       BEQ XXC14C       STA $0277,X       INX        BNE XXC141XXC14C LDA #$20      ;' '       STA $0277,X       INX        STX $C6XXC154 JMP $A49F;********************************       BNE XXC16DXXC159 SEI        LDA XXCEF5       STA $0314       LDA XXCEF6       STA $0315       JSR XXCE1F       CLI        JMP $A474;********************************XXC16D JMP XXCDD9;********************************XXC170 BIT $028D       BEQ XXC1A2       JSR XXC685XXC178 LDX #$00       STX $C7       STX $C6       STX $C5       CPX $D4       BEQ XXC188       STX $D4       BNE XXC18CXXC188 CPX $D8       BEQ XXC19CXXC18C STX $D8       INC $C6       LDY $D3       DEY        LDA #$20      ;' '       STA ($D1),Y       LDA #$9D       STA $0277XXC19C LDA $C5       CMP #$03       BEQ XXC170       CMP #$04       BEQ XXC178       LDA XXCEF8       PHA        LDA XXCEF7       PHA        PHP        PHA        PHA        PHA        JMP $EA31;********************************       JSR XXC33D       LDA $5F       LDX $60       STA $24       STX $25       JSR $A613       LDA $5F       LDX $60       BCC XXC1D3       LDY #$01       LDA ($5F),Y       BEQ XXC1D3       TAX        DEY        LDA ($5F),YXXC1D3 STA $7A       STX $7B       LDA $24       SEC        SBC $7A       TAX        LDA $25       SBC $7B       TAY        BCS XXC202       TXA        CLC        ADC $2D       STA $2D       TYA        ADC $2E       STA $2E       LDY #$00XXC1F1 LDA ($7A),Y       STA ($24),Y       INY        BNE XXC1F1       INC $7B       INC $25       LDA $2E       CMP $25       BCS XXC1F1XXC202 JSR $A533       LDA $22       LDX $23       CLC        ADC #$02       STA $2D       BCC XXC211       INX XXC211 STX $2E       JSR $A659       JMP $A474;********************************       JSR $A579       JSR $0073       STA $83       LDX #$00       STX $49       JSR XXC2FD       LDA $7F       CMP #$03       BNE XXC235       LDX #$02       STX $49       JSR XXC2FDXXC235 JSR $0073       BEQ XXC23D       JSR $AEFDXXC23D JSR XXC33D       LDA $5F       LDX $60       STA $7A       STX $7B       JSR $AAD7       BNE XXC258XXC24D INY        TYA        CLC        ADC $7A       STA $7A       BCC XXC258       INC $7BXXC258 JSR XXC5C9       BEQ XXC262       JSR XXC367       BCS XXC265XXC262 JMP XXC202;********************************XXC265 STY $55XXC267 INC $55       LDY $55       LDX $31       LDA $32       STA $83XXC271 LDA ($7A),Y       BEQ XXC24D       CMP $0200,X       BNE XXC267       INX        INY        DEC $83       BNE XXC271       DEY        STY $0B       STY $97       LDA $49       BEQ XXC2E4       JSR XXC37A       LDA $34       SEC        SBC $32       STA $9E       BEQ XXC2BDXXC295 INY XXC296 BEQ XXC262       LDA ($7A),Y       BNE XXC295       CLC        TYA        ADC $9E       CMP #$02       BCC XXC2E4       CMP #$4B      ;'K'       BCS XXC2E4       LDA $9E       BPL XXC2AE       DEC $83XXC2AE CLC        ADC $0B       STA $97       BCS XXC2BA       JSR XXC3B4       BEQ XXC2BDXXC2BA JSR XXC39CXXC2BD LDA $97       SEC        SBC $34       TAY        INY        LDA $34       BEQ XXC2D7       STA $85       LDX $33XXC2CC LDA $0200,X       STA ($7A),Y       INX        INY        DEC $85       BNE XXC2CCXXC2D7 CLC        LDA $2D       ADC $9E       STA $2D       LDA $2E       ADC $83       STA $2EXXC2E4 LDA $7A       LDX $7B       STA $5F       STX $60       LDX $43       LDA $44       JSR XXC412       JSR XXC05A       BEQ XXC296       LDY $97       JMP XXC265;********************************XXC2FD LDY $7A       INY        STY $31,X       LDA #$00       STA $32,XXXC306 LDA $0200,Y       BEQ XXC33A       CMP $83       BEQ XXC314       INC $32,X       INY        BNE XXC306XXC314 STY $7A       RTS ;********************************       BNE XXC33A       STA $0203       STX $0204       STY $0205       PHP        PLA        STA $0202       LDA #$A4       PHA        LDA #$74       PHA        SEC        JMP ($0316);********************************XXC331 CMP #$AB       BEQ XXC339       CMP #$2D      ;'-'       BNE XXC33AXXC339 RTS ;********************************XXC33A JMP XXCDD9;********************************XXC33D BCC XXC344       BEQ XXC344       JSR XXC331XXC344 JSR $A96B       JSR $A613       JSR $0079       BEQ XXC35A       JSR XXC331       JSR $0073       JSR $A96B       BNE XXC33AXXC35A LDA $14       ORA $15       BNE XXC366       LDA #$FF       STA $14       STA $15XXC366 RTS ;********************************XXC367 JSR XXC5C9       STA $43       JSR XXC5C9       STA $44       LDA $14       CMP $43       LDA $15       SBC $44       RTS ;********************************XXC37A LDA $7A       STA $22       LDA $7B       STA $23       LDA $2D       STA $24       LDA $2E       STA $25       RTS ;********************************XXC38B LDA $22       CMP $24       BNE XXC395       LDA $23       CMP $25XXC395 RTS ;********************************XXC396 INC $22       BNE XXC39C       INC $23XXC39C LDY $0B       INY        LDA ($22),Y       LDY $97       INY        STA ($22),Y       JSR XXC38B       BNE XXC396       RTS ;********************************XXC3AC LDA $24       BNE XXC3B2       DEC $25XXC3B2 DEC $24XXC3B4 LDY $0B       LDA ($24),Y       LDY $97       STA ($24),Y       JSR XXC38B       BNE XXC3AC       RTS ;********************************XXC3C2 CMP #$22      ;'"'       BNE XXC3CE       PHA        LDA $0F       EOR #$80       STA $0F       PLA XXC3CE RTS ;********************************XXC3CF JSR $A96B       LDA $15       BNE XXC3DA       LDA $14       BPL XXC3DCXXC3DA LDA #$7FXXC3DC RTS ;********************************XXC3DD JMP XXCDD9;********************************       BNE XXC3DD       JSR XXC3E8       JMP $A474;********************************XXC3E8 JSR $AAD7       STA $49       LDX $2B       LDA $2CXXC3F1 STX $5F       STA $60       LDY #$00       LDA ($5F),Y       TAX        INY        LDA ($5F),Y       BNE XXC402       JMP $0073;********************************XXC402 CMP $8A       BCC XXC3F1       CPX $89       BCC XXC3F1       INY        LDA ($5F),Y       TAX        INY        LDA ($5F),Y;********************************       .BYTE $2C;********************************XXC412 LDY #$00       STY $7F       STY $0F       JSR $BDCD       LDA #$20      ;' 'XXC41D LDY $7F       AND #$7FXXC421 JSR CHROUT       JSR XXC3C2       LDA #$00       STA $C7       INY        BIT $49       BPL XXC447       LDX $60       TYA        SEC        ADC $5F       BCC XXC439       INX XXC439 CPX $8A       BCC XXC447       CMP $89       BCC XXC447       LDA #$01       STA $49       STA $C7XXC447 LDA ($5F),Y       BEQ XXC45C       BPL XXC421       CMP #$FF       BEQ XXC421       BIT $0F       BMI XXC421       STY $7F       JSR XXC47A       BMI XXC41DXXC45C JMP $AAD7;********************************XXC45F RTS ;********************************XXC460 LDX #$A0       LDY #$9D       STX $88       STY $87       SEC        SBC #$7F       TAX        LDY #$00XXC46E DEX        BEQ XXC45FXXC471 JSR XXC093       LDA ($87),Y       BPL XXC471       BMI XXC46EXXC47A JSR XXC460XXC47D INY        LDA ($87),Y       BMI XXC45F       JSR CHROUT       BNE XXC47D       JSR $A96B       LDY $14       LDX $15       TYA        ORA $15       BNE XXC495       LDY #$64XXC495 STY $35       STX $36       LDX #$00       LDA ($7A,X)       BNE XXC4A3       LDA #$0A       BNE XXC4ADXXC4A3 JSR $AEFD       JSR $A96B       LDA $14       LDX $15XXC4AD STA $33       STX $34       JSR $A68EXXC4B4 JSR XXC5C9       JSR XXC5C9       BNE XXC4DD       JSR XXC5ABXXC4BF JSR XXC5C9       JSR XXC5C9       BNE XXC4CA       JMP XXC202;********************************XXC4CA JSR XXC5C9       LDA $63       STA ($7A),Y       JSR XXC5C9       LDA $62       STA ($7A),Y       JSR XXC5B6       BEQ XXC4BFXXC4DD JSR XXC5C9       JSR XXC5C9XXC4E3 JSR XXC5C9XXC4E6 CMP #$22      ;'"'       BNE XXC4F5XXC4EA JSR XXC5C9       BEQ XXC4B4       CMP #$22      ;'"'       BNE XXC4EA       BEQ XXC4E3XXC4F5 TAX        BEQ XXC4B4       BPL XXC4E3       LDX #$04XXC4FC CMP XXCE51,X       BEQ XXC506       DEX        BNE XXC4FC       BEQ XXC4E3XXC506 LDA $7A       STA $3B       LDA $7B       STA $3C       JSR $0073       BCS XXC4E6       JSR $A96B       JSR XXC550       LDA $3C       STA $7B       LDA $3B       STA $7A       LDY #$00       LDX #$00XXC525 LDA $0100,X       CMP #$30      ;'0'       BCC XXC53D       PHA        JSR $0073       BCC XXC535       JSR XXC581XXC535 PLA        LDY #$00       STA ($7A),Y       INX        BNE XXC525XXC53D JSR $0073       BCS XXC54AXXC542 JSR XXC590       JSR $0079       BCC XXC542XXC54A CMP #$2C      ;','       BEQ XXC506       BNE XXC4E6XXC550 JSR XXC5ABXXC553 JSR XXC5C9       JSR XXC5C9       BNE XXC563       LDA #$FF       STA $63       STA $62       BMI XXC571XXC563 JSR XXC5C9       CMP $14       BNE XXC579       JSR XXC5C9       CMP $15       BNE XXC57CXXC571 JSR $BDD1       LDA #$20      ;' '       JMP CHROUT;********************************XXC579 JSR XXC5C9XXC57C JSR XXC5B6       BEQ XXC553XXC581 JSR XXC5A1       INC $97       JSR XXC3B4       INC $2D       BNE XXC58F       INC $2EXXC58F RTS ;********************************XXC590 JSR XXC5A1       DEC $97       JSR XXC39C       LDA $2D       BNE XXC59E       DEC $2EXXC59E DEC $2D       RTS ;********************************XXC5A1 JSR XXC37A       LDY #$00       STY $0B       STY $97       RTS ;********************************XXC5AB LDA $35       STA $63       LDA $36       STA $62       JMP $A68E;********************************XXC5B6 LDA $63       CLC        ADC $33       STA $63       LDA $62       ADC $34       STA $62XXC5C3 JSR XXC5C9       BNE XXC5C3       RTS ;********************************XXC5C9 LDY #$00       INC $7A       BNE XXC5D1       INC $7BXXC5D1 LDA ($7A),Y       RTS ;********************************XXC5D4 JMP $A474;********************************       BNE XXC632       LDA $2D       STA $5F       LDA $2E;********************************.END